<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper   
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
      
<mapper namespace="com.onlyBoard.board.dao.BoardDAO">  
  
 
<select id="selectBoardCnt" resultType="int" >
	SELECT COUNT(*)
	FROM BOARD_MST
	WHERE USEFLAG = 1
</select>

<select id="selectBoardList" parameterType="map" resultType="com.onlyBoard.board.model.BoardVO">
	SELECT  
        BOARD_SEQ
	    , BOARD_TITLE
	    , BOARD_CONTENT
	    , REGEXP_REPLACE(CREATED_DATE, '[^0-9]') AS CREATED_DATE
	    , CREATED_BY
	    , rnum
	FROM(
	    SELECT
	        a.*,
	        rownum rnum
	    FROM (
	        SELECT   *
	        FROM BOARD_MST
	        ORDER BY BOARD_SEQ desc
	        )a
	)
	<![CDATA[
	WHERE rnum >= #{start} AND rnum <= #{end}
	]]>
</select>

<select id="selectBoard" parameterType="Integer" resultType="com.onlyBoard.board.model.BoardVO">
	SELECT 
		BOARD_SEQ
	    , BOARD_TITLE
	    , BOARD_CONTENT
	    , REGEXP_REPLACE(CREATED_DATE, '[^0-9]') AS CREATED_DATE
	    , CREATED_BY
	FROM BOARD_MST
	WHERE USEFLAG = 1
	AND board_seq = #{board_seq}
</select> 


</mapper>







